(this["webpackJsonpmy-epic"]=this["webpackJsonpmy-epic"]||[]).push([[12],{433:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(55),u=n(60),c=n(12),i=n(5),o=n(429),s=n(432),g=n(261),d=n(431),m=n(13);function p(){var e=Object(c.a)(["\n    max-width: 400px;\n"]);return p=function(){return e},e}function h(){var e=Object(c.a)(["\n    margin: 20px 0;\n    text-align: center;\n"]);return h=function(){return e},e}function f(){var e=Object(c.a)(["\n    margin-top:30px;\n    padding: 20px;\n    border: 1px dashed #ccc;\n"]);return f=function(){return e},e}var E=o.a.Dragger,b=m.a.div(f()),v=m.a.h1(h()),j=m.a.img(p()),w=Object(u.a)((function(){var e=Object(l.a)(),t=e.ImageStore,n=e.UserStore,u=Object(r.useRef)(),c=Object(r.useRef)(),o=Object(i.d)((function(){return{width:null,setWidth:function(e){o.width=e},get widthStr(){return o.width?"/w/".concat(o.width):""},height:null,setHeight:function(e){o.height=e},get heightStr(){return o.height?"/h/".concat(o.height):""},get fullStr(){return t.serverFile.attributes.url.attributes.url+"?imageView2/0"+o.widthStr+o.heightStr}}})),m={beforeUpload:function(e){return t.setFile(e),t.setFilename(e.name),null===n.currentUser?(s.a.warning("\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20"),!1):/(\.svg$)|(\.png$)|(\.jpg$)|(\.jpeg$)|(\.gif$)/gi.test(e.name)?e.size>1048576?(s.a.error("\u56fe\u7247\u5c3a\u5bf8\u4e0d\u80fd\u8d85\u8fc71M"),!1):(t.upload().then((function(e){console.log("\u4e0a\u4f20\u6210\u529f"),console.log(e),s.a.success("\u4e0a\u4f20\u6210\u529f\uff01")})).catch((function(e){console.log("\u4e0a\u4f20\u5931\u8d25"),s.a.error("\u4e0a\u4f20\u5931\u8d25\uff01")})),!1):(s.a.error("\u53ea\u80fd\u4e0a\u4f20.svg/.png/.jpg/.jpeg/.gif\u683c\u5f0f\u7684\u56fe\u7247"),!1)},showUploadList:!1};return a.a.createElement(b,null,a.a.createElement(g.a,{spinning:t.isUploading,tip:"\u4e0a\u4f20\u4e2d"},a.a.createElement(E,m,a.a.createElement("p",{className:"ant-upload-drag-icon"},a.a.createElement(d.a,null)),a.a.createElement("p",{className:"ant-upload-text"},"\u70b9\u51fb\u6216\u62d6\u62fd\u4e0a\u4f20\u56fe\u7247"),a.a.createElement("p",{className:"ant-upload-hint"},"\u53ea\u80fd\u4e0a\u4f20.svg/.png/.jpg/.jpeg/.gif\u683c\u5f0f\u7684\u56fe\u7247",a.a.createElement("br",null),"\u56fe\u7247\u5c3a\u5bf8\u4e0d\u80fd\u8d85\u8fc71M"))),t.serverFile?a.a.createElement("div",null,a.a.createElement(v,null,"\u4e0a\u4f20\u7ed3\u679c"),a.a.createElement("dl",null,a.a.createElement("dt",null,"\u7ebf\u4e0a\u5730\u5740"),a.a.createElement("dd",null,a.a.createElement("a",{href:t.serverFile.attributes.url.attributes.url},t.serverFile.attributes.url.attributes.url)),a.a.createElement("dt",null,"\u6587\u4ef6\u540d"),a.a.createElement("dd",null,t.filename),a.a.createElement("dt",null,"\u56fe\u7247\u9884\u89c8"),a.a.createElement("dd",null,a.a.createElement(j,{src:t.serverFile.attributes.url.attributes.url,alt:""})),a.a.createElement("dt",null,"\u66f4\u591a\u5c3a\u5bf8"),a.a.createElement("dd",null,a.a.createElement("input",{placeholder:"\u6700\u5927\u5bbd\u5ea6",ref:u,onChange:function(){o.setWidth(u.current.value)}}),a.a.createElement("input",{placeholder:"\u6700\u5927\u9ad8\u5ea6",ref:c,onChange:function(){o.setHeight(c.current.value)}})),a.a.createElement("dd",null,a.a.createElement("a",{href:o.fullStr,target:"_blank"},o.fullStr)))):null)}));function x(){var e=Object(c.a)(["\n    background: orange;\n    padding: 10px;\n    border-radius: 4px;\n    color: white;\n    margin: 30px 0;\n"]);return x=function(){return e},e}var O=m.a.div(x()),S=function(e){var t=e.children;return a.a.createElement(O,null,t)},F=Object(u.a)((function(){var e=Object(l.a)().UserStore;return a.a.createElement(a.a.Fragment,null,e.currentUser?null:a.a.createElement(S,null,"\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20\uff01"),a.a.createElement(w,null))}));t.default=F}}]);
//# sourceMappingURL=12.19adaae5.chunk.js.map